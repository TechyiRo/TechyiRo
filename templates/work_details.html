<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Work Details</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="{{ url_for('serve_static', filename='styles.css') }}" rel="stylesheet">
</head>
<body>
    <a href="{{ url_for('index') }}" class="btn btn-glass back-button">üè† Back to Home</a>
    <a href="{{ url_for('logout') }}" class="btn btn-glass logout-button">üö™ Logout</a>
    <div class="container mt-5">
        <div class="glass-container animated">
            <h1 class="text-center mb-4">üìù Work Details</h1>
            <form id="workDetailsForm">
                <div class="mb-3">
                    <label for="date" class="form-label">üìÖ Date</label>
                    <input type="date" class="form-control btn-glass" id="date" name="date" required>
                </div>
                <div class="mb-3">
                    <label for="company" class="form-label">üè¢ Company</label>
                    <select class="form-select btn-glass" id="company" name="company" required>
                        <option value="">Choose...</option>
                        {% for company in companies %}
                        <option value="{{ company.id }}">{{ company.name }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="mb-3">
                    <label for="eng_name" class="form-label">üë®‚Äçüíº Engineer Name</label>
                    <input type="text" class="form-control btn-glass" id="eng_name" name="eng_name" required>
                </div>
                <div class="mb-3">
                    <label for="work_type" class="form-label">üîß Work Type</label>
                    <select class="form-select btn-glass" id="work_type" name="work_type" required>
                        <option value="">Choose...</option>
                        <option value="NETWORKING WORK">NETWORKING WORK</option>
                        <option value="FIREWALL WORK">FIREWALL WORK</option>
                        <option value="SERVER WORK">SERVER WORK</option>
                        <option value="ACCESS POINT WORK">ACCESS POINT WORK</option>
                        <option value="ESSL WORK">ESSL WORK</option>
                        <option value="BIOMATRIC WORK">BIOMATRIC WORK</option>
                        <option value="WEB DEVELOPMENT WORK">WEB DEVELOPMENT WORK</option>
                        <option value="DATA BACKUP">DATA BACKUP</option>
                        <option value="MATERIAL DELIVERY WORK">MATERIAL DELIVERY WORK</option>
                        <option value="OTHER">OTHER</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label for="work_details" class="form-label">üìã Work Details</label>
                    <textarea class="form-control btn-glass" id="work_details" name="work_details" rows="3" required></textarea>
                </div>
                <div class="mb-3">
                    <label for="contact_no" class="form-label">üìû Contact No</label>
                    <div class="input-group">
                        <span class="input-group-text">+91</span>
                        <input type="tel" class="form-control btn-glass" id="contact_no" name="contact_no" required>
                    </div>
                </div>
                <div class="mb-3">
                    <label for="email" class="form-label">üìß Email</label>
                    <input type="email" class="form-control btn-glass" id="email" name="email" required>
                </div>
                <div class="mb-3">
                    <label for="work_status" class="form-label">üö¶ Work Status</label>
                    <select class="form-select btn-glass" id="work_status" name="work_status" required>
                        <option value="">Choose...</option>
                        <option value="WORKING">WORKING</option>
                        <option value="PENDING">PENDING</option>
                        <option value="COMPLETE">COMPLETE</option>
                        <option value="OTHER">OTHER</option>
                    </select>
                </div>
                <button type="submit" class="btn btn-glass">Submit</button>
            </form>
        </div>
    </div>
    <script>
        document.getElementById('workDetailsForm').addEventListener('submit', function(e) {
            e.preventDefault();
            fetch('/work_details', {
                method: 'POST',
                body: new FormData(this)
            })
            .then(response => response.json())
            .then(data => {
                alert(data.message);
                this.reset();
            })
            .catch(error => console.error('Error:', error));
        });
    </script>
</body>
</html>

